(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2244:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(4540),n=t(9952),r=t(6879),l=t(9573),c=t(6401),i=t(4814),o=t(2775),d=t(9767);let x=(0,d.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),h=(0,d.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),p=(0,d.A)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),u=(0,d.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),b="https://sepolia.etherscan.io/address/";function m(){let e=(0,r.useRouter)(),[s,t]=(0,n.useState)(null),[d,m]=(0,n.useState)(!0),[f,j]=(0,n.useState)(""),[g,y]=(0,n.useState)(""),[v,N]=(0,n.useState)(!1),[k,w]=(0,n.useState)(null),[z,S]=(0,n.useState)(""),[A,T]=(0,n.useState)("100"),[C,F]=(0,n.useState)(!1),[O,_]=(0,n.useState)(null);(0,n.useEffect)(()=>{M()},[]);let M=async()=>{m(!0),t(await l.F.getFestival()),m(!1)},D=async e=>{if(e.preventDefault(),f&&g){N(!0);try{let e=await l.F.createFestival({festivalName:f,festivalSymbol:g});t(e)}catch(e){console.error(e)}finally{N(!1)}}},P=async(e,s)=>{try{await navigator.clipboard.writeText(e),w(s),setTimeout(()=>w(null),2e3)}catch(e){console.error("Failed to copy:",e)}},U=async e=>{if(e.preventDefault(),z&&A){F(!0),_(null);try{let e=await fetch("/api/admin/faucet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:z,amount:parseFloat(A)})}),s=await e.json();e.ok?(_({success:!0,hash:s.hash}),S("")):_({success:!1,error:s.error})}catch(e){_({success:!1,error:"Network error"})}finally{F(!1)}}},R=e=>{let{label:s,address:t,fieldId:n,showEtherscan:r=!0}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:s}),(0,a.jsxs)("div",{className:"bg-black p-3 rounded-lg mt-1 flex items-center justify-between gap-2",children:[(0,a.jsx)("span",{className:"break-all font-mono text-xs text-orby flex-1",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:()=>P(t,n),className:"p-1.5 rounded-md hover:bg-zinc-800 transition-colors",title:"Copy address",children:k===n?(0,a.jsx)(c.A,{size:14,className:"text-green-500"}):(0,a.jsx)(i.A,{size:14,className:"text-zinc-500"})}),r&&(0,a.jsx)("a",{href:"".concat(b).concat(t),target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-md hover:bg-zinc-800 transition-colors",title:"View on Etherscan",children:(0,a.jsx)(o.A,{size:14,className:"text-zinc-500 hover:text-orby"})})]})]})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white p-6 pb-32",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-10",children:[(0,a.jsx)("button",{onClick:()=>e.push("/menu"),className:"p-2 rounded-full bg-zinc-900 hover:bg-zinc-800 text-white transition-colors",children:(0,a.jsx)(x,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-display font-bold tracking-tight",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Festival Token Management"})]})]}),d?(0,a.jsx)("div",{className:"flex justify-center pt-20",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-orby border-t-transparent rounded-full animate-spin"})}):s?(0,a.jsxs)("div",{className:"animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-3xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-green-500/20 text-green-500 p-2 rounded-full",children:(0,a.jsx)(h,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold text-lg font-display tracking-tight",children:"Active Festival"}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 font-sans",children:"Contracts deployed on Sepolia"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:"Name"}),(0,a.jsx)("p",{className:"text-xl font-bold font-display",children:s.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:"Symbol"}),(0,a.jsx)("p",{className:"text-xl font-bold font-display",children:s.symbol})]})]}),(0,a.jsx)(R,{label:"Token Contract",address:s.tokenAddress,fieldId:"token"}),(0,a.jsx)(R,{label:"Vault Contract",address:s.vaultAddress,fieldId:"vault"}),(0,a.jsx)(R,{label:"Owner Address",address:s.ownerAddress,fieldId:"owner"}),s.factoryAddress&&(0,a.jsx)(R,{label:"Factory Contract",address:s.factoryAddress,fieldId:"factory"})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-zinc-800",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans mb-3 block",children:"Quick Links"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("a",{href:"".concat(b).concat(s.tokenAddress),target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 hover:bg-zinc-700 py-3 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors font-sans text-sm",children:["Token ",(0,a.jsx)(o.A,{size:14})]}),(0,a.jsxs)("a",{href:"".concat(b).concat(s.vaultAddress),target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 hover:bg-zinc-700 py-3 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors font-sans text-sm",children:["Vault ",(0,a.jsx)(o.A,{size:14})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-3xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-blue-500/20 text-blue-500 p-2 rounded-full",children:(0,a.jsx)(p,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold text-lg font-display tracking-tight",children:"TestUSDT Faucet"}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 font-sans",children:"Send test tokens to any address"})]})]}),(0,a.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-1 font-sans",children:"Recipient Address"}),(0,a.jsx)("input",{type:"text",value:z,onChange:e=>S(e.target.value),placeholder:"0x...",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-3 text-white placeholder-zinc-600 font-mono text-sm focus:outline-none focus:border-orby"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-1 font-sans",children:"Amount (USDT)"}),(0,a.jsx)("input",{type:"number",value:A,onChange:e=>T(e.target.value),placeholder:"100",min:"1",max:"10000",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-3 text-white placeholder-zinc-600 font-sans focus:outline-none focus:border-orby"})]}),(0,a.jsx)("button",{type:"submit",disabled:C||!z||!A,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 font-sans ".concat(!C&&z&&A?"hover:bg-blue-500 active:scale-95 transition-all":"opacity-50 cursor-not-allowed"),children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{size:18}),"Send TestUSDT"]})})]}),O&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-xl ".concat(O.success?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"),children:O.success?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-400 font-bold text-sm mb-2",children:"✓ Tokens sent successfully!"}),(0,a.jsxs)("a",{href:"https://sepolia.etherscan.io/tx/".concat(O.hash),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View transaction ",(0,a.jsx)(o.A,{size:12})]})]}):(0,a.jsxs)("p",{className:"text-red-400 font-bold text-sm",children:["✗ ",O.error]})})]}),(0,a.jsxs)("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Network"}),(0,a.jsx)("span",{className:"text-sm font-bold text-orby",children:"Sepolia Testnet"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Chain ID"}),(0,a.jsx)("span",{className:"text-sm font-mono text-zinc-400",children:"11155111"})]})]})]}):(0,a.jsxs)("div",{className:"animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"bg-orby rounded-3xl p-6 mb-6 text-black",children:[(0,a.jsx)("h2",{className:"text-3xl font-display font-black mb-2 tracking-tight",children:"Create Token"}),(0,a.jsx)("p",{className:"opacity-70 font-medium mb-6 font-sans",children:"Deploy a new festival currency on Sepolia."}),(0,a.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide opacity-60 mb-1 font-sans",children:"Festival Name"}),(0,a.jsx)("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"e.g. Summer Fest 24",className:"w-full bg-black/10 focus:bg-white/50 transition-colors border-0 rounded-xl px-4 py-3 placeholder-black/30 font-bold outline-none ring-0 font-sans"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide opacity-60 mb-1 font-sans",children:"Token Symbol"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"e.g. SMR24",maxLength:5,className:"w-full bg-black/10 focus:bg-white/50 transition-colors border-0 rounded-xl px-4 py-3 placeholder-black/30 font-bold outline-none ring-0 uppercase font-sans"})]}),(0,a.jsx)("button",{type:"submit",disabled:v||!f||!g,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 mt-4 font-display tracking-tight ".concat(!v&&f&&g?"hover:scale-[1.02] active:scale-95 transition-transform":"opacity-50 cursor-not-allowed"),children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," ","Deploying to Sepolia..."]}):(0,a.jsxs)(a.Fragment,{children:["Deploy Token ",(0,a.jsx)(u,{size:20})]})})]})]}),(0,a.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-3xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-blue-500/20 text-blue-500 p-2 rounded-full",children:(0,a.jsx)(p,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold text-lg font-display tracking-tight",children:"TestUSDT Faucet"}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 font-sans",children:"Send test tokens to any address"})]})]}),(0,a.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-1 font-sans",children:"Recipient Address"}),(0,a.jsx)("input",{type:"text",value:z,onChange:e=>S(e.target.value),placeholder:"0x...",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-3 text-white placeholder-zinc-600 font-mono text-sm focus:outline-none focus:border-orby"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-1 font-sans",children:"Amount (USDT)"}),(0,a.jsx)("input",{type:"number",value:A,onChange:e=>T(e.target.value),placeholder:"100",min:"1",max:"10000",className:"w-full bg-black border border-zinc-800 rounded-xl px-4 py-3 text-white placeholder-zinc-600 font-sans focus:outline-none focus:border-orby"})]}),(0,a.jsx)("button",{type:"submit",disabled:C||!z||!A,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 font-sans ".concat(!C&&z&&A?"hover:bg-blue-500 active:scale-95 transition-all":"opacity-50 cursor-not-allowed"),children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{size:18}),"Send TestUSDT"]})})]}),O&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-xl ".concat(O.success?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"),children:O.success?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-400 font-bold text-sm mb-2",children:"✓ Tokens sent successfully!"}),(0,a.jsxs)("a",{href:"https://sepolia.etherscan.io/tx/".concat(O.hash),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline flex items-center gap-1",children:["View transaction ",(0,a.jsx)(o.A,{size:12})]})]}):(0,a.jsxs)("p",{className:"text-red-400 font-bold text-sm",children:["✗ ",O.error]})})]}),(0,a.jsx)("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Target Network"}),(0,a.jsx)("span",{className:"text-sm font-bold text-orby",children:"Sepolia Testnet"})]})})]})]})}},2775:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9767).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3610:(e,s,t)=>{Promise.resolve().then(t.bind(t,2244))},4814:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9767).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6401:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9767).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6879:(e,s,t)=>{"use strict";var a=t(6007);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},9573:(e,s,t)=>{"use strict";t.d(s,{F:()=>n});let a=t(4101).env.NEXT_PUBLIC_API_URL||"",n={getFestival:async()=>{let e=await fetch("".concat(a,"/api/admin/festival"));return e.ok?e.json():null},createFestival:async e=>(await fetch("".concat(a,"/api/admin/create-festival"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),join:async e=>(await fetch("".concat(a,"/api/festival/join"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})).json(),getBalances:async(e,s,t)=>(await fetch("".concat(a,"/api/festival/balances?userId=").concat(e,"&sessionToken=").concat(s,"&userAddress=").concat(t))).json(),topUp:async e=>(await fetch("".concat(a,"/api/festival/topup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),cashOut:async(e,s,t)=>(await fetch("".concat(a,"/api/festival/cashout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,sessionToken:s,seedPhrase:t})})).json()}},9767:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(9952);let n=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:x,...h}=e;return(0,a.createElement)("svg",{ref:s,...l,width:n,height:n,stroke:t,strokeWidth:i?24*Number(c)/Number(n):c,className:r("lucide",o),...!d&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),i=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:i,...o}=t;return(0,a.createElement)(c,{ref:l,iconNode:s,className:r("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return t.displayName=n(e),t}}},e=>{e.O(0,[736,540,358],()=>e(e.s=3610)),_N_E=e.O()}]);