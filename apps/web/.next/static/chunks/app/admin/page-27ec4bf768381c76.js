(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2775:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9767).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3610:(e,t,s)=>{Promise.resolve().then(s.bind(s,4088))},4088:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(4540),n=s(9952),r=s(6879),l=s(9573),i=s(9767);let c=(0,i.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),o=(0,i.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var d=s(2775);let x=(0,i.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p=(0,i.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),h=(0,i.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),m="https://sepolia.etherscan.io/address/";function f(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(null),[i,f]=(0,n.useState)(!0),[u,b]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[g,v]=(0,n.useState)(!1),[k,N]=(0,n.useState)(null);(0,n.useEffect)(()=>{w()},[]);let w=async()=>{f(!0),s(await l.F.getFestival()),f(!1)},z=async e=>{if(e.preventDefault(),u&&j){v(!0);try{let e=await l.F.createFestival({festivalName:u,festivalSymbol:j});s(e)}catch(e){console.error(e)}finally{v(!1)}}},A=async(e,t)=>{try{await navigator.clipboard.writeText(e),N(t),setTimeout(()=>N(null),2e3)}catch(e){console.error("Failed to copy:",e)}},S=e=>{let{label:t,address:s,fieldId:n,showEtherscan:r=!0}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:t}),(0,a.jsxs)("div",{className:"bg-black p-3 rounded-lg mt-1 flex items-center justify-between gap-2",children:[(0,a.jsx)("span",{className:"break-all font-mono text-xs text-orby flex-1",children:s}),(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:()=>A(s,n),className:"p-1.5 rounded-md hover:bg-zinc-800 transition-colors",title:"Copy address",children:k===n?(0,a.jsx)(c,{size:14,className:"text-green-500"}):(0,a.jsx)(o,{size:14,className:"text-zinc-500"})}),r&&(0,a.jsx)("a",{href:"".concat(m).concat(s),target:"_blank",rel:"noopener noreferrer",className:"p-1.5 rounded-md hover:bg-zinc-800 transition-colors",title:"View on Etherscan",children:(0,a.jsx)(d.A,{size:14,className:"text-zinc-500 hover:text-orby"})})]})]})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white p-6 pb-32",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-10",children:[(0,a.jsx)("button",{onClick:()=>e.push("/menu"),className:"p-2 rounded-full bg-zinc-900 hover:bg-zinc-800 text-white transition-colors",children:(0,a.jsx)(x,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-display font-bold tracking-tight",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Festival Token Management"})]})]}),i?(0,a.jsx)("div",{className:"flex justify-center pt-20",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-orby border-t-transparent rounded-full animate-spin"})}):t?(0,a.jsxs)("div",{className:"animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-3xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-green-500/20 text-green-500 p-2 rounded-full",children:(0,a.jsx)(p,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold text-lg font-display tracking-tight",children:"Active Festival"}),(0,a.jsx)("p",{className:"text-sm text-zinc-400 font-sans",children:"Contracts deployed on Sepolia"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:"Name"}),(0,a.jsx)("p",{className:"text-xl font-bold font-display",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans",children:"Symbol"}),(0,a.jsx)("p",{className:"text-xl font-bold font-display",children:t.symbol})]})]}),(0,a.jsx)(S,{label:"Token Contract",address:t.tokenAddress,fieldId:"token"}),(0,a.jsx)(S,{label:"Vault Contract",address:t.vaultAddress,fieldId:"vault"}),(0,a.jsx)(S,{label:"Owner Address",address:t.ownerAddress,fieldId:"owner"}),t.factoryAddress&&(0,a.jsx)(S,{label:"Factory Contract",address:t.factoryAddress,fieldId:"factory"})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-zinc-800",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider font-sans mb-3 block",children:"Quick Links"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("a",{href:"".concat(m).concat(t.tokenAddress),target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 hover:bg-zinc-700 py-3 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors font-sans text-sm",children:["Token ",(0,a.jsx)(d.A,{size:14})]}),(0,a.jsxs)("a",{href:"".concat(m).concat(t.vaultAddress),target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 hover:bg-zinc-700 py-3 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors font-sans text-sm",children:["Vault ",(0,a.jsx)(d.A,{size:14})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Network"}),(0,a.jsx)("span",{className:"text-sm font-bold text-orby",children:"Sepolia Testnet"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Chain ID"}),(0,a.jsx)("span",{className:"text-sm font-mono text-zinc-400",children:"11155111"})]})]})]}):(0,a.jsxs)("div",{className:"animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"bg-orby rounded-3xl p-6 mb-6 text-black",children:[(0,a.jsx)("h2",{className:"text-3xl font-display font-black mb-2 tracking-tight",children:"Create Token"}),(0,a.jsx)("p",{className:"opacity-70 font-medium mb-6 font-sans",children:"Deploy a new festival currency on Sepolia."}),(0,a.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide opacity-60 mb-1 font-sans",children:"Festival Name"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>b(e.target.value),placeholder:"e.g. Summer Fest 24",className:"w-full bg-black/10 focus:bg-white/50 transition-colors border-0 rounded-xl px-4 py-3 placeholder-black/30 font-bold outline-none ring-0 font-sans"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide opacity-60 mb-1 font-sans",children:"Token Symbol"}),(0,a.jsx)("input",{type:"text",value:j,onChange:e=>y(e.target.value),placeholder:"e.g. SMR24",maxLength:5,className:"w-full bg-black/10 focus:bg-white/50 transition-colors border-0 rounded-xl px-4 py-3 placeholder-black/30 font-bold outline-none ring-0 uppercase font-sans"})]}),(0,a.jsx)("button",{type:"submit",disabled:g||!u||!j,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 mt-4 font-display tracking-tight ".concat(!g&&u&&j?"hover:scale-[1.02] active:scale-95 transition-transform":"opacity-50 cursor-not-allowed"),children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," ","Deploying to Sepolia..."]}):(0,a.jsxs)(a.Fragment,{children:["Deploy Token ",(0,a.jsx)(h,{size:20})]})})]})]}),(0,a.jsx)("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500 font-sans uppercase tracking-wider",children:"Target Network"}),(0,a.jsx)("span",{className:"text-sm font-bold text-orby",children:"Sepolia Testnet"})]})})]})]})}},6879:(e,t,s)=>{"use strict";var a=s(6007);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9573:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});let a=s(4101).env.NEXT_PUBLIC_API_URL||"",n={getFestival:async()=>{let e=await fetch("".concat(a,"/api/admin/festival"));return e.ok?e.json():null},createFestival:async e=>(await fetch("".concat(a,"/api/admin/create-festival"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),join:async e=>(await fetch("".concat(a,"/api/festival/join"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})).json(),getBalances:async(e,t)=>(await fetch("".concat(a,"/api/festival/balances?userId=").concat(e,"&sessionToken=").concat(t))).json(),topUp:async e=>(await fetch("".concat(a,"/api/festival/topup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),cashOut:async(e,t)=>(await fetch("".concat(a,"/api/festival/cashout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,sessionToken:t})})).json()}},9767:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(9952);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:x,...p}=e;return(0,a.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:s,strokeWidth:c?24*Number(i)/Number(n):i,className:r("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:c,...o}=s;return(0,a.createElement)(i,{ref:l,iconNode:t,className:r("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return s.displayName=n(e),s}}},e=>{e.O(0,[736,540,358],()=>e(e.s=3610)),_N_E=e.O()}]);