(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{1238:(e,t,a)=>{Promise.resolve().then(a.bind(a,8072))},1726:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9767).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},2775:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9767).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},4422:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9767).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},6879:(e,t,a)=>{"use strict";var s=a(6007);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},7966:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(4540),n=a(9952),r=a(2775),l=a(6879),i=a(1726),o=a(4422),c=a(9767);let d=(0,c.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),h=(0,c.A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var u=function(e){return e.WALLET="WALLET",e.ACTIVITY="ACTIVITY",e.MENU="MENU",e.QR="QR",e}({});let x=[{id:u.QR,icon:i.A,label:"QR",path:"/qr"},{id:u.WALLET,icon:o.A,label:"WALLET",path:"/wallet"},{id:u.ACTIVITY,icon:d,label:"ACTIVITY",path:"/activity"},{id:u.MENU,icon:h,label:"MENU",path:"/menu"}];function f(){let e=(0,l.useRouter)(),t=(0,l.usePathname)(),a="/wallet"===t||"/"===t?u.WALLET:"/activity"===t?u.ACTIVITY:"/menu"===t?u.MENU:"/qr"===t?u.QR:u.WALLET;return(0,s.jsx)("div",{className:"fixed bottom-6 left-0 w-full flex justify-center z-50 pointer-events-none",children:(0,s.jsx)("div",{className:"w-[92%] max-w-md pointer-events-auto animate-fade-in-up delay-400",children:(0,s.jsx)("div",{className:"flex items-center justify-between bg-zinc-950/90 backdrop-blur-xl border border-white/10 rounded-full px-2 py-2 shadow-2xl ring-1 ring-white/5",children:x.map(t=>{let n=a===t.id,r=t.icon;return(0,s.jsxs)("button",{onClick:()=>e.push(t.path),className:"flex items-center gap-2 px-5 py-3 rounded-full transition-all duration-300 ".concat(n?"bg-orby text-white shadow-[0_0_15px_rgba(40,80,255,0.5)] font-bold":"text-zinc-500 hover:text-white"),children:[(0,s.jsx)(r,{size:20,strokeWidth:n?2.5:2}),n&&(0,s.jsx)("span",{className:"text-xs tracking-wider font-sans",children:t.label})]},t.id)})})})})}var m=a(9573);function p(e){let{children:t,hideNav:a=!1,bgClass:l="bg-orby-dark",showVaultLink:i=!0}=e,[o,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{i&&m.F.getFestival().then(c).catch(console.error)},[i]),(0,s.jsxs)("div",{className:"relative min-h-screen w-full overflow-hidden flex flex-col text-white ".concat(l),children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto pb-32 no-scrollbar",children:t}),i&&(null==o?void 0:o.vaultAddress)&&(0,s.jsx)("div",{className:"fixed bottom-24 left-0 w-full flex justify-center z-40 pointer-events-none",children:(0,s.jsxs)("a",{href:"".concat("https://sepolia.etherscan.io/address/").concat(o.vaultAddress),target:"_blank",rel:"noopener noreferrer",className:"pointer-events-auto flex items-center gap-1.5 px-3 py-1.5 bg-black/60 backdrop-blur-md rounded-full text-xs text-white/50 hover:text-white/80 border border-white/10 transition-colors",children:[(0,s.jsx)(r.A,{size:10}),"Vault: ",o.vaultAddress.slice(0,6),"...",o.vaultAddress.slice(-4)]})}),!a&&(0,s.jsx)(f,{})]})}},8072:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(4540),n=a(9952),r=a(7966),l=a(1726);let i=(0,a(9767).A)("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);function o(){let[e,t]=(0,n.useState)("MY_QR"),[a]=(0,n.useState)("0x1234...5678"),[o,c]=(0,n.useState)(!1);return"SCAN"!==e||o?"SCAN"===e&&o?(0,s.jsx)(r.A,{hideNav:!0,children:(0,s.jsxs)("div",{className:"min-h-screen bg-black relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-zinc-900 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-zinc-600 animate-pulse font-mono",children:"Camera Active..."})}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,s.jsxs)("div",{className:"w-64 h-64 border-2 border-orby rounded-3xl relative",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-4 border-l-4 border-orby -mt-1 -ml-1"}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-4 border-r-4 border-orby -mt-1 -mr-1"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-4 border-l-4 border-orby -mb-1 -ml-1"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-4 border-r-4 border-orby -mb-1 -mr-1"})]}),(0,s.jsx)("p",{className:"mt-8 text-white font-bold bg-black/50 px-6 py-2 rounded-full backdrop-blur-md font-sans",children:"Scanning..."})]}),(0,s.jsx)("button",{onClick:()=>{t("MY_QR"),c(!1)},className:"absolute bottom-12 left-1/2 transform -translate-x-1/2 text-white font-bold bg-zinc-800/80 px-6 py-3 rounded-full backdrop-blur font-sans hover:bg-zinc-700 transition-colors",children:"Close Camera"})]})}):(0,s.jsx)(r.A,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-orby flex flex-col items-center px-6 pt-6 pb-32",children:[(0,s.jsxs)("div",{className:"w-full flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-display font-black tracking-tighter lowercase italic text-white",children:"orby"}),(0,s.jsx)("span",{className:"text-white/80 font-bold text-sm tracking-wide uppercase font-sans",children:"Scan or share"})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center w-full max-w-sm",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-[40px] shadow-2xl w-full aspect-square flex flex-col items-center justify-center mb-8 animate-scale-in",children:[(0,s.jsxs)("div",{className:"w-full h-full bg-zinc-100 rounded-2xl flex items-center justify-center overflow-hidden relative",children:[(0,s.jsx)("div",{className:"absolute inset-4 grid grid-cols-6 grid-rows-6 gap-2 opacity-10",children:Array.from({length:36}).map((e,t)=>(0,s.jsx)("div",{className:"rounded-sm ".concat(Math.random()>.5?"bg-black":"bg-transparent")},t))}),(0,s.jsx)(l.A,{size:120,className:"text-black z-10"})]}),(0,s.jsx)("div",{className:"mt-4 font-mono text-zinc-500 font-bold tracking-widest bg-zinc-100 px-4 py-2 rounded-full text-xs",children:a})]}),(0,s.jsxs)("div",{className:"flex gap-2 bg-white p-1.5 rounded-full w-full max-w-[280px] shadow-lg animate-fade-in-up delay-200",children:[(0,s.jsx)("button",{onClick:()=>t("MY_QR"),className:"flex-1 py-3 rounded-full font-bold text-sm transition-all font-sans ".concat("MY_QR"===e?"bg-black text-white shadow-lg":"text-zinc-400 hover:text-zinc-600"),children:"My QR"}),(0,s.jsxs)("button",{onClick:()=>{t("SCAN")},className:"flex-1 py-3 rounded-full font-bold text-sm transition-all flex items-center justify-center gap-2 font-sans ".concat("SCAN"===e?"bg-black text-white shadow-lg":"text-zinc-400 hover:text-zinc-600"),children:[(0,s.jsx)(i,{size:16})," Scan"]})]})]})]})}):(0,s.jsx)(r.A,{hideNav:!0,children:(0,s.jsxs)("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center px-8 text-center relative animate-fade-in",children:[(0,s.jsxs)("h2",{className:"text-5xl font-display font-black text-white mb-16 leading-[0.9] tracking-tight",children:["Allow camera",(0,s.jsx)("br",{}),"access"]}),(0,s.jsx)("button",{onClick:()=>{c(!0)},className:"w-48 h-48 rounded-full bg-orby text-white font-display font-bold text-2xl hover:scale-105 active:scale-95 transition-transform shadow-[0_0_40px_rgba(40,80,255,0.3)] flex items-center justify-center tracking-tight",children:"Continue"}),(0,s.jsx)("button",{onClick:()=>t("MY_QR"),className:"absolute bottom-12 text-zinc-500 hover:text-white font-medium font-sans tracking-wide uppercase text-sm",children:"Cancel"})]})})}},9573:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});let s=a(4101).env.NEXT_PUBLIC_API_URL||"",n={getFestival:async()=>{let e=await fetch("".concat(s,"/api/admin/festival"));return e.ok?e.json():null},createFestival:async e=>(await fetch("".concat(s,"/api/admin/create-festival"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),join:async e=>(await fetch("".concat(s,"/api/festival/join"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})).json(),getBalances:async(e,t)=>(await fetch("".concat(s,"/api/festival/balances?userId=").concat(e,"&sessionToken=").concat(t))).json(),topUp:async e=>(await fetch("".concat(s,"/api/festival/topup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),cashOut:async(e,t)=>(await fetch("".concat(s,"/api/festival/cashout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,sessionToken:t})})).json()}},9767:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(9952);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...u}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:a,strokeWidth:o?24*Number(i)/Number(n):i,className:r("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:o,...c}=a;return(0,s.createElement)(i,{ref:l,iconNode:t,className:r("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return a.displayName=n(e),a}}},e=>{e.O(0,[736,540,358],()=>e(e.s=1238)),_N_E=e.O()}]);